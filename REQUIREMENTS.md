# 📋 Vue3英語学習タイピングゲーム 要件定義書

> **Version**: 1.0.0  
> **Last Updated**: 2025-01-20  
> **Status**: 設計完了・実装開始

## 🎯 プロダクト概要

### 基本情報
- **プロダクト名**: English Typing Game
- **ターゲット**: 日本人英語学習者
- **目的**: 英語学習とタイピングスキルの同時習得
- **デザインコンセプト**: 大人な近未来デザイン

### 価値提案
- 段階的学習システムによる確実なスキル向上
- 指ガイド付きキーボードによる正確なタイピング習得
- 英語学習と実用的タイピングスキルの効率的な同時習得

---

## 🌟 主要機能

### 1. 基本タイピング練習（12段階システム）

#### Stage 1-3: ホームポジション習得
- **Stage 1**: `ASDF JKL;` (基本指配置)
- **Stage 2**: `QWER UIOP` (上段キー)
- **Stage 3**: `ZXCV BNM,` (下段キー)

#### Stage 4-6: 組み合わせ練習
- **Stage 4**: 基本単語 (cat, dog, the, and)
- **Stage 5**: 短フレーズ (I am, you are, it is)
- **Stage 6**: 数字記号 (0-9, !@#$%^&*())

#### Stage 7-9: 実用練習
- **Stage 7**: 英単語100語 (中学レベル)
- **Stage 8**: 短文練習 (5-10語)
- **Stage 9**: 長文練習 (パラグラフ)

#### Stage 10-12: 上級練習
- **Stage 10**: プログラミング記号 ({}[]<>/\|`~)
- **Stage 11**: 混在練習 (英数記号)
- **Stage 12**: スピードチャレンジ

### 2. 英語学習機能

#### 英単語学習（3レベル）
- **初級**: 基本500語 (中学レベル)
- **中級**: 応用1000語 (高校・日常会話)
- **上級**: 高度1500語 (ビジネス・学術)

#### 英語フレーズ学習（6カテゴリー）
- ☕ **日常会話**: 挨拶・感情表現
- 💼 **ビジネス**: 会議・プレゼン・メール
- ✈️ **旅行**: 空港・ホテル・観光
- 🍽️ **レストラン**: 注文・支払い
- 🛍️ **ショッピング**: 買い物・価格交渉
- 🏥 **病院・緊急時**: 症状説明・緊急連絡

---

## 🚀 画面遷移フロー

### メインフロー
```
Landing → Home → [3つの学習パス]

📝 基本タイピング練習:
Home → BasicTyping → BasicGame → Clear

📚 英単語学習:
Home → WordLevel → WordStages → WordGame → Clear
      (レベル選択)   (ステージ選択)  (ゲーム)    (クリア)

💬 英語フレーズ学習:
Home → PhraseCategory → PhraseStages → PhraseGame → Clear
       (カテゴリー選択)   (ステージ選択)     (ゲーム)      (クリア)

設定: 全画面からヘッダー右端の⚙️ボタンでアクセス
```

### 新しい画面構造の詳細

#### 英単語学習フロー
1. **WordLevel.vue**: 3つのレベルから選択 (初級/中級/上級)
2. **WordStages.vue**: 選択したレベル内のステージ一覧 (10単語/ステージ)
3. **WordGame.vue**: 英単語タイピングゲーム
4. **Clear.vue**: クリア画面、次ステージやレベル選択に戻る

#### 英語フレーズ学習フロー
1. **PhraseCategory.vue**: 6つのカテゴリーから選択
2. **PhraseStages.vue**: 選択したカテゴリー内のステージ一覧 (5フレーズ/ステージ)
3. **PhraseGame.vue**: 英語フレーズタイピングゲーム
4. **Clear.vue**: クリア画面、次ステージやカテゴリー選択に戻る

### 画面詳細仕様

#### 1. Landing Page
- ヒーローセクション (キャッチコピー・価値提案・開始ボタン)
- 機能紹介 (3つの学習モード)
- 利用者の声・実績
- 将来: 無料/プレミアム入口分離対応

#### 2. Home Page
```
📚 基本タイピング練習 → BasicTyping
🌍 英語学習 → Unit
📊 学習統計 → Statistics
```

#### 3. Unit Page (英語学習分岐)
```
📚 英単語学習 → Level (3段階難易度)
🗣️ 英語フレーズ学習 → Category (6カテゴリー)
📈 進捗確認 → Progress
```

#### 4. Settings Page (モーダル)
- 🌍 **言語設定**: 日本語/English/中文(将来)
- 🎨 **テーマ**: ダーク(基本)/ライト/システム設定
- 🔊 **音声設定**: 音量・速度・自動再生
- 📊 **学習設定**: 目標WPM・練習時間・難易度自動調整

---

## 🎮 ゲーム画面UI設計

### レイアウト (100vh固定・スクロール無し)
```
┌─────────────────────────────────────────────┐ ← ヘッダー (60px)
│ [🏠TypingGame] Stage 1          [👤] [⚙️] │
├─────────────────────────────────────────────┤
│ [← 前に戻る]                                │ ← ナビ (40px)
├─────────────────────────────────────────────┤
│            📝 直接入力エリア                │ ← 問題入力 (100px)
│   "The quick brown fox jumps over"         │
│   ████████ █████ ███ █████ ████            │
├─────────────────────────────────────────────┤
│            🈁 和訳表示エリア                │ ← 和訳 (60px)
│        "すばやい茶色のキツネが飛び越える"      │
├─────────────────────────────────────────────┤
│      🎯 指ガイド付きキーボード      [🔊]    │ ← キーボード (280px)
│  1 2 3 4 5 6 7 8 9 0 - = [Backspace]     │
│   Q W E R T Y U I O P [ ] \               │
│    A S D F G H J K L ; ' [Enter]          │
│     Z X C V B N M , . / [Shift]           │
│        [      Space      ]                │
├─────────────────────────────────────────────┤
│             [Space] 開始                    │ ← コントロール (60px)
└─────────────────────────────────────────────┘
```

### 指ガイド色分けシステム
#### 左手
- **小指**: `#EF4444` (赤) - Q A Z 1
- **薬指**: `#F59E0B` (橙) - W S X 2
- **中指**: `#10B981` (緑) - E D C 3
- **人差指**: `#3B82F6` (青) - R F V T G B 4 5 6

#### 右手
- **人差指**: `#3B82F6` (青) - Y H N U J M 6 7
- **中指**: `#10B981` (緑) - I K , 8
- **薬指**: `#F59E0B` (橙) - O L . 9
- **小指**: `#EF4444` (赤) - P ; / 0 - = [ ] \ '

#### 両親指
- **親指**: `#7C3AED` (紫) - Space

### 入力フィードバック色システム
- **入力済み**: `#10B981` (緑) + 薄い緑背景
- **現在入力**: `#3B82F6` (青) + 点滅カーソル + アンダーライン
- **未入力**: `#6B7280` (グレー) 60%透明度
- **間違い**: 赤フラッシュ + 振動アニメーション

### 音声再生ボタン
- **位置**: キーボード右上 (absolute)
- **デザイン**: シアン-ブルーグラデーション + 発光
- **再生中**: 緑グラデーション + 脈動アニメーション
- **表示条件**: 英語学習時のみ

---

## 🛠️ 技術スタック

### フロントエンド
- **Core**: Vue 3.4+ (Composition API) + Vite 5+ + TypeScript 5+
- **スタイル**: SCSS + CSS Variables (ダークモード基本)
- **状態管理**: Pinia
- **ルーティング**: Vue Router 4+
- **国際化**: vue-i18n 9+
- **PWA**: Vite PWA Plugin

### 開発・品質管理
- **テスト**: Vitest (単体) + Playwright (E2E)
- **静的解析**: ESLint 9+ + Prettier 3+
- **型チェック**: TypeScript strict mode (any完全禁止)
- **CI/CD**: GitHub Actions

### 🚫 レガシーコード完全禁止システム
- TypeScript strict mode - any完全禁止
- ESLint厳格設定 - Vue2パターン検出
- Pre-commit hooks - 自動チェック
- カスタム検出スクリプト - レガシーパターン監視

---

## ✅ 受け入れ基準 (DoD)

### 技術要件
- ✅ `pnpm dev` 起動成功
- ✅ `pnpm test` 全テスト緑
- ✅ `pnpm typecheck` 型エラーゼロ
- ✅ `pnpm lint` ESLintエラーゼロ
- ✅ `pnpm build` ビルド成功

### 機能要件
- ✅ Landing → Home → Unit → Game 完全遷移
- ✅ 基本タイピング Stage1-3 実装
- ✅ 英単語学習 初級レベル実装
- ✅ 設定画面 テーマ・言語切替動作
- ✅ ゲーム開始 → タイピング → 結果表示

---

*プロジェクトの基盤が構築され、実装フェーズに入りました。*